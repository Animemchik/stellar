enum Result[T, E] implements ToString {
    Ok(T),
    Err(E),

    fun ok(self): Option[T] {
        match self {
            Ok(t) => Some(t),
            Err(..) => None,
        }
    }

    fun err(self): Option[T] {
        match self {
            Err(e) => Some(e),
            Some(..) => None,
        }
    }
}
